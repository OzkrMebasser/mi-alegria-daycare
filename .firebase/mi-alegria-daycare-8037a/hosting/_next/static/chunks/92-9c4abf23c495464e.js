(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92],{3045:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var o={centimeters:0x25f96350,centimetres:0x25f96350,degrees:360/(2*Math.PI),feet:20902260.511392,inches:250826616.45599997,kilometers:6371.0088,kilometres:6371.0088,meters:6371008.8,metres:6371008.8,miles:3958.761333810546,millimeters:0x17bbde120,millimetres:0x17bbde120,nauticalmiles:6371008.8/1852,radians:1,yards:6967335.223679999};function n(e,t,r={}){let o={type:"Feature"};return(0===r.id||r.id)&&(o.id=r.id),r.bbox&&(o.bbox=r.bbox),o.properties=t||{},o.geometry=e,o}function i(e){return e%(2*Math.PI)*180/Math.PI}function a(e){return e%360*Math.PI/180}function s(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}var l=function(e,t,r={}){let l=r.steps||64,u=r.properties?r.properties:!Array.isArray(e)&&"Feature"===e.type&&e.properties?e.properties:{},c=[];for(let u=0;u<l;u++)c.push(function(e,t,r,l={}){let u=function(e){if(!e)throw Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw Error("coord must be GeoJSON Point or an Array of numbers")}(e),c=a(u[0]),p=a(u[1]),d=a(r),f=function(e,t="kilometers"){let r=o[t];if(!r)throw Error(t+" units is invalid");return e/r}(t,l.units),m=Math.asin(Math.sin(p)*Math.cos(f)+Math.cos(p)*Math.sin(f)*Math.cos(d));return function(e,t,r={}){if(!e)throw Error("coordinates is required");if(!Array.isArray(e))throw Error("coordinates must be an Array");if(e.length<2)throw Error("coordinates must be at least 2 numbers long");if(!s(e[0])||!s(e[1]))throw Error("coordinates must contain numbers");return n({type:"Point",coordinates:e},t,r)}([i(c+Math.atan2(Math.sin(d)*Math.sin(f)*Math.cos(p),Math.cos(f)-Math.sin(p)*Math.sin(m))),i(m)],l.properties)}(e,t,-360*u/l,r).geometry.coordinates);return c.push(c[0]),function(e,t,r={}){for(let t of e){if(t.length<4)throw Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t,r)}([c],u)}},4436:(e,t,r)=>{"use strict";r.d(t,{k5:()=>c});var o=r(2115),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=o.createContext&&o.createContext(n),a=["attr","size","title"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var o,n,i;o=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in o?Object.defineProperty(o,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e){return t=>o.createElement(p,s({attr:u({},e.attr)},t),function e(t){return t&&t.map((t,r)=>o.createElement(t.tag,u({key:r},t.attr),e(t.child)))}(e.child))}function p(e){var t=t=>{var r,{attr:n,size:i,title:l}=e,c=function(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,a),p=i||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),o.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,c,{className:r,style:u(u({color:e.color||t.color},t.style),e.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),l&&o.createElement("title",null,l),e.children)};return void 0!==i?o.createElement(i.Consumer,null,e=>t(e)):t(n)}},5795:(e,t,r)=>{"use strict";r.d(t,{Wd:()=>k,kL:()=>O,Ay:()=>_});var o=r(2115);let n=o.createContext(null);function i(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1;return!0}if(Array.isArray(t))return!1;if("object"==typeof e&&"object"==typeof t){let r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(let o of r)if(!t.hasOwnProperty(o)||!i(e[o],t[o]))return!1;return!0}return!1}function a(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function s(e,t){let r=t.viewState||t,o={};return"longitude"in r&&"latitude"in r&&(r.longitude!==e.center.lng||r.latitude!==e.center.lat)&&(o.center=new e.center.constructor(r.longitude,r.latitude)),"zoom"in r&&r.zoom!==e.zoom&&(o.zoom=r.zoom),"bearing"in r&&r.bearing!==e.bearing&&(o.bearing=r.bearing),"pitch"in r&&r.pitch!==e.pitch&&(o.pitch=r.pitch),r.padding&&e.padding&&!i(r.padding,e.padding)&&(o.padding=r.padding),o}let l=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function u(e){if(!e)return null;if("string"==typeof e||("toJS"in e&&(e=e.toJS()),!e.layers))return e;let t={};for(let r of e.layers)t[r.id]=r;let r=e.layers.map(e=>{let r=null;"interactive"in e&&(r=Object.assign({},e),delete r.interactive);let o=t[e.ref];if(o)for(let t of(r=r||Object.assign({},e),delete r.ref,l))t in o&&(r[t]=o[t]);return r||e});return{...e,layers:r}}let c={version:8,sources:{},layers:[]},p={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},d={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},f={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},m=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],h=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class y{constructor(e,t,r){this._map=null,this._internalUpdate=!1,this._hoveredFeatures=null,this._propsedCameraUpdate=null,this._styleComponents={},this._onEvent=e=>{let t=this.props[f[e.type]];t?t(e):"error"===e.type&&console.error(e.error)},this._onCameraEvent=e=>{if(this._internalUpdate)return;e.viewState=this._propsedCameraUpdate||a(this._map.transform);let t=this.props[d[e.type]];t&&t(e)},this._onCameraUpdate=e=>this._internalUpdate?e:(this._propsedCameraUpdate=a(e),s(e,this.props)),this._onPointerEvent=e=>{("mousemove"===e.type||"mouseout"===e.type)&&this._updateHover(e);let t=this.props[p[e.type]];t&&(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type&&(e.features=this._hoveredFeatures||this._queryRenderedFeatures(e.point)),t(e),delete e.features)},this._MapClass=e,this.props=t,this._initialize(r)}get map(){return this._map}setProps(e){let t=this.props;this.props=e;let r=this._updateSettings(e,t),o=this._updateSize(e),n=this._updateViewState(e);this._updateStyle(e,t),this._updateStyleComponents(e),this._updateHandlers(e,t),(r||o||n&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){let r=y.savedMaps.pop();if(!r)return null;let o=r.map,n=o.getContainer();for(t.className=n.className;n.childNodes.length>0;)t.appendChild(n.childNodes[0]);o._container=t;let i=o._resizeObserver;i&&(i.disconnect(),i.observe(t)),r.setProps({...e,styleDiffing:!1}),o.resize();let{initialViewState:a}=e;return a&&(a.bounds?o.fitBounds(a.bounds,{...a.fitBoundsOptions,duration:0}):r._updateViewState(a)),o.isStyleLoaded()?o.fire("load"):o.once("style.load",()=>o.fire("load")),o._update(),r}_initialize(e){let{props:t}=this,{mapStyle:r=c}=t,o={...t,...t.initialViewState,container:e,style:u(r)},n=o.initialViewState||o.viewState||o;if(Object.assign(o,{center:[n.longitude||0,n.latitude||0],zoom:n.zoom||0,pitch:n.pitch||0,bearing:n.bearing||0}),t.gl){let e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}let i=new this._MapClass(o);for(let e in n.padding&&i.setPadding(n.padding),t.cursor&&(i.getCanvas().style.cursor=t.cursor),i.transformCameraUpdate=this._onCameraUpdate,i.on("style.load",()=>{this._styleComponents={light:i.getLight(),sky:i.getSky(),projection:i.getProjection?.(),terrain:i.getTerrain()},this._updateStyleComponents(this.props)}),i.on("sourcedata",()=>{this._updateStyleComponents(this.props)}),p)i.on(e,this._onPointerEvent);for(let e in d)i.on(e,this._onCameraEvent);for(let e in f)i.on(e,this._onEvent);this._map=i}recycle(){let e=this.map.getContainer().querySelector("[mapboxgl-children]");e?.remove(),y.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){let e=this._map;e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_updateSize(e){let{viewState:t}=e;if(t){let e=this._map;if(t.width!==e.transform.width||t.height!==e.transform.height)return e.resize(),!0}return!1}_updateViewState(e){let t=this._map,r=t.transform;if(!t.isMoving()){let o=s(r,e);if(Object.keys(o).length>0)return this._internalUpdate=!0,t.jumpTo(o),this._internalUpdate=!1,!0}return!1}_updateSettings(e,t){let r=this._map,o=!1;for(let n of m)if(n in e&&!i(e[n],t[n])){o=!0;let t=r[`set${n[0].toUpperCase()}${n.slice(1)}`];t?.call(r,e[n])}return o}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==t.mapStyle){let{mapStyle:t=c,styleDiffing:r=!0}=e,o={diff:r};"localIdeographFontFamily"in e&&(o.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(u(t),o)}}_updateStyleComponents({light:e,projection:t,sky:r,terrain:o}){let n=this._map,a=this._styleComponents;n.style._loaded&&(e&&!i(e,a.light)&&(a.light=e,n.setLight(e)),t&&!i(t,a.projection)&&t!==a.projection?.type&&(a.projection="string"==typeof t?{type:t}:t,n.setProjection?.(a.projection)),r&&!i(r,a.sky)&&(a.sky=r,n.setSky(r)),void 0!==o&&!i(o,a.terrain)&&(!o||n.getSource(o.source))&&(a.terrain=o,n.setTerrain(o)))}_updateHandlers(e,t){let r=this._map;for(let o of h){let n=e[o]??!0;i(n,t[o]??!0)||(n?r[o].enable(n):r[o].disable())}}_queryRenderedFeatures(e){let t=this._map,{interactiveLayerIds:r=[]}=this.props;try{return t.queryRenderedFeatures(e,{layers:r.filter(t.getLayer.bind(t))})}catch{return[]}}_updateHover(e){let{props:t}=this;if(t.interactiveLayerIds&&(t.onMouseMove||t.onMouseEnter||t.onMouseLeave)){let t=e.type,r=this._hoveredFeatures?.length>0,o=this._queryRenderedFeatures(e.point),n=o.length>0;!n&&r&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=o,n&&!r&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=t}else this._hoveredFeatures=null}}y.savedMaps=[];let g=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"],v="undefined"!=typeof document?o.useLayoutEffect:o.useEffect,b=o.createContext(null),_=o.forwardRef(function(e,t){let i=(0,o.useContext)(n),[a,s]=(0,o.useState)(null),l=(0,o.useRef)(),{current:u}=(0,o.useRef)({mapLib:null,map:null});(0,o.useEffect)(()=>{let t,o=e.mapLib,n=!0;return Promise.resolve(o||r.e(600).then(r.t.bind(r,9101,19))).then(r=>{if(!n)return;if(!r)throw Error("Invalid mapLib");let o="Map"in r?r:r.default;if(!o.Map)throw Error("Invalid mapLib");let{RTLTextPlugin:a,maxParallelImageRequests:c,workerCount:p,workerUrl:d}=e;if(a&&o.getRTLTextPluginStatus&&"unavailable"===o.getRTLTextPluginStatus()){let{pluginUrl:e,lazy:t=!0}="string"==typeof a?{pluginUrl:a}:a;o.setRTLTextPlugin(e,e=>{e&&console.error(e)},t)}void 0!==c&&o.setMaxParallelImageRequests(c),void 0!==p&&o.setWorkerCount(p),void 0!==d&&o.setWorkerUrl(d),e.reuseMaps&&(t=y.reuse(e,l.current)),t||(t=new y(o.Map,e,l.current)),u.map=function(e){if(!e)return null;let t=e.map,r={getMap:()=>t};for(let e of function(e){let t=new Set,r=e;for(;r;){for(let o of Object.getOwnPropertyNames(r))"_"!==o[0]&&"function"==typeof e[o]&&"fire"!==o&&"setEventedParent"!==o&&t.add(o);r=Object.getPrototypeOf(r)}return Array.from(t)}(t))e in r||g.includes(e)||(r[e]=t[e].bind(t));return r}(t),u.mapLib=o,s(t),i?.onMapMount(u.map,e.id)}).catch(t=>{let{onError:r}=e;r?r({type:"error",target:null,originalEvent:null,error:t}):console.error(t)}),()=>{n=!1,t&&(i?.onMapUnmount(e.id),e.reuseMaps?t.recycle():t.destroy())}},[]),v(()=>{a&&a.setProps(e)}),(0,o.useImperativeHandle)(t,()=>u.map,[a]);let c=(0,o.useMemo)(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]);return o.createElement("div",{id:e.id,ref:l,style:c},a&&o.createElement(b.Provider,{value:u},o.createElement("div",{"mapboxgl-children":"",style:{height:"100%"}},e.children)))});var E=r(7650);let P=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function C(e,t){if(!e||!t)return;let r=e.style;for(let e in t){let o=t[e];Number.isFinite(o)&&!P.test(e)?r[e]=`${o}px`:r[e]=o}}function M(e,t){if(e===t)return null;let r=w(e),o=w(t),n=[];for(let e of o)r.has(e)||n.push(e);for(let e of r)o.has(e)||n.push(e);return 0===n.length?null:n}function w(e){return new Set(e?e.trim().split(/\s+/):[])}function L(e,t,r,n){let i=(0,o.useContext)(b),a=(0,o.useMemo)(()=>e(i),[]);return(0,o.useEffect)(()=>{let e="function"==typeof t&&"function"==typeof r?t:null,o="function"==typeof r?r:"function"==typeof t?t:null,{map:s}=i;return!s.hasControl(a)&&(s.addControl(a,(n||r||t)?.position),e&&e(i)),()=>{o&&o(i),s.hasControl(a)&&s.removeControl(a)}},[]),a}function S(e,t){if(!e)throw Error(t)}(0,o.memo)((0,o.forwardRef)((e,t)=>{let{map:r,mapLib:n}=(0,o.useContext)(b),i=(0,o.useRef)({props:e}),a=(0,o.useMemo)(()=>{let t=!1;o.Children.forEach(e.children,e=>{e&&(t=!0)});let r={...e,element:t?document.createElement("div"):void 0},s=new n.Marker(r);return s.setLngLat([e.longitude,e.latitude]),s.getElement().addEventListener("click",e=>{i.current.props.onClick?.({type:"click",target:s,originalEvent:e})}),s.on("dragstart",e=>{e.lngLat=a.getLngLat(),i.current.props.onDragStart?.(e)}),s.on("drag",e=>{e.lngLat=a.getLngLat(),i.current.props.onDrag?.(e)}),s.on("dragend",e=>{e.lngLat=a.getLngLat(),i.current.props.onDragEnd?.(e)}),s},[]);(0,o.useEffect)(()=>(a.addTo(r.getMap()),()=>{a.remove()}),[]);let{longitude:s,latitude:l,offset:u,style:c,draggable:p=!1,popup:d=null,rotation:f=0,rotationAlignment:m="auto",pitchAlignment:h="auto"}=e;(0,o.useEffect)(()=>{C(a.getElement(),c)},[c]),(0,o.useImperativeHandle)(t,()=>a,[]);let y=i.current.props;(a.getLngLat().lng!==s||a.getLngLat().lat!==l)&&a.setLngLat([s,l]),u&&!function(e,t){let r=Array.isArray(e)?e[0]:e?e.x:0,o=Array.isArray(e)?e[1]:e?e.y:0,n=Array.isArray(t)?t[0]:t?t.x:0,i=Array.isArray(t)?t[1]:t?t.y:0;return r===n&&o===i}(a.getOffset(),u)&&a.setOffset(u),a.isDraggable()!==p&&a.setDraggable(p),a.getRotation()!==f&&a.setRotation(f),a.getRotationAlignment()!==m&&a.setRotationAlignment(m),a.getPitchAlignment()!==h&&a.setPitchAlignment(h),a.getPopup()!==d&&a.setPopup(d);let g=M(y.className,e.className);if(g)for(let e of g)a.toggleClassName(e);return i.current.props=e,(0,E.createPortal)(e.children,a.getElement())})),(0,o.memo)((0,o.forwardRef)((e,t)=>{let{map:r,mapLib:n}=(0,o.useContext)(b),a=(0,o.useMemo)(()=>document.createElement("div"),[]),s=(0,o.useRef)({props:e}),l=(0,o.useMemo)(()=>{let t={...e},r=new n.Popup(t);return r.setLngLat([e.longitude,e.latitude]),r.once("open",e=>{s.current.props.onOpen?.(e)}),r},[]);if((0,o.useEffect)(()=>{let e=e=>{s.current.props.onClose?.(e)};return l.on("close",e),l.setDOMContent(a).addTo(r.getMap()),()=>{l.off("close",e),l.isOpen()&&l.remove()}},[]),(0,o.useEffect)(()=>{C(l.getElement(),e.style)},[e.style]),(0,o.useImperativeHandle)(t,()=>l,[]),l.isOpen()){let t=s.current.props;(l.getLngLat().lng!==e.longitude||l.getLngLat().lat!==e.latitude)&&l.setLngLat([e.longitude,e.latitude]),e.offset&&!i(t.offset,e.offset)&&l.setOffset(e.offset),(t.anchor!==e.anchor||t.maxWidth!==e.maxWidth)&&(l.options.anchor=e.anchor,l.setMaxWidth(e.maxWidth));let r=M(t.className,e.className);if(r)for(let e of r)l.toggleClassName(e);s.current.props=e}return(0,E.createPortal)(e.children,a)})),(0,o.memo)(function(e){let t=L(({mapLib:t})=>new t.AttributionControl(e),{position:e.position});return(0,o.useEffect)(()=>{C(t._container,e.style)},[e.style]),null}),(0,o.memo)(function(e){let t=L(({mapLib:t})=>new t.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return(0,o.useEffect)(()=>{C(t._controlContainer,e.style)},[e.style]),null}),(0,o.memo)((0,o.forwardRef)(function(e,t){let r=(0,o.useRef)({props:e}),n=L(({mapLib:t})=>{let o=new t.GeolocateControl(e),n=o._setupUI;return o._setupUI=()=>{o._container.hasChildNodes()||n()},o.on("geolocate",e=>{r.current.props.onGeolocate?.(e)}),o.on("error",e=>{r.current.props.onError?.(e)}),o.on("outofmaxbounds",e=>{r.current.props.onOutOfMaxBounds?.(e)}),o.on("trackuserlocationstart",e=>{r.current.props.onTrackUserLocationStart?.(e)}),o.on("trackuserlocationend",e=>{r.current.props.onTrackUserLocationEnd?.(e)}),o},{position:e.position});return r.current.props=e,(0,o.useImperativeHandle)(t,()=>n,[]),(0,o.useEffect)(()=>{C(n._container,e.style)},[e.style]),null})),(0,o.memo)(function(e){let t=L(({mapLib:t})=>new t.NavigationControl(e),{position:e.position});return(0,o.useEffect)(()=>{C(t._container,e.style)},[e.style]),null}),(0,o.memo)(function(e){let t=L(({mapLib:t})=>new t.ScaleControl(e),{position:e.position}),r=(0,o.useRef)(e),n=r.current;r.current=e;let{style:i}=e;return void 0!==e.maxWidth&&e.maxWidth!==n.maxWidth&&(t.options.maxWidth=e.maxWidth),void 0!==e.unit&&e.unit!==n.unit&&t.setUnit(e.unit),(0,o.useEffect)(()=>{C(t._container,i)},[i]),null}),(0,o.memo)(function(e){let t=L(({mapLib:t})=>new t.TerrainControl(e),{position:e.position});return(0,o.useEffect)(()=>{C(t._container,e.style)},[e.style]),null}),(0,o.memo)(function(e){let t=L(({mapLib:t})=>new t.LogoControl(e),{position:e.position});return(0,o.useEffect)(()=>{C(t._container,e.style)},[e.style]),null});let x=0;function O(e){let t=(0,o.useContext)(b).map.getMap(),r=(0,o.useRef)(e),[,n]=(0,o.useState)(0),a=(0,o.useMemo)(()=>e.id||`jsx-source-${x++}`,[]);(0,o.useEffect)(()=>{if(t){let e=()=>setTimeout(()=>n(e=>e+1),0);return t.on("styledata",e),e(),()=>{if(t.off("styledata",e),t.style&&t.style._loaded&&t.getSource(a)){let e=t.getStyle()?.layers;if(e)for(let r of e)r.source===a&&t.removeLayer(r.id);t.removeSource(a)}}}},[t]);let s=t&&t.style&&t.getSource(a);return s?!function(e,t,r){S(t.id===r.id,"source id changed"),S(t.type===r.type,"source type changed");let o="",n=0;for(let e in t)"children"!==e&&"id"!==e&&!i(r[e],t[e])&&(o=e,n++);if(!n)return;let a=t.type;if("geojson"===a)e.setData(t.data);else if("image"===a)e.updateImage({url:t.url,coordinates:t.coordinates});else switch(o){case"coordinates":e.setCoordinates?.(t.coordinates);break;case"url":e.setUrl?.(t.url);break;case"tiles":e.setTiles?.(t.tiles);break;default:console.warn(`Unable to update <Source> prop: ${o}`)}}(s,e,r.current):s=function(e,t,r){if(e.style&&e.style._loaded){let o={...r};return delete o.id,delete o.children,e.addSource(t,o),e.getSource(t)}return null}(t,a,e),r.current=e,s&&o.Children.map(e.children,e=>e&&(0,o.cloneElement)(e,{source:a}))||null}let j=0;function k(e){let t=(0,o.useContext)(b).map.getMap(),r=(0,o.useRef)(e),[,n]=(0,o.useState)(0),a=(0,o.useMemo)(()=>e.id||`jsx-layer-${j++}`,[]);if((0,o.useEffect)(()=>{if(t){let e=()=>n(e=>e+1);return t.on("styledata",e),e(),()=>{t.off("styledata",e),t.style&&t.style._loaded&&t.getLayer(a)&&t.removeLayer(a)}}},[t]),t&&t.style&&t.getLayer(a))try{!function(e,t,r,o){if(S(r.id===o.id,"layer id changed"),S(r.type===o.type,"layer type changed"),"custom"===r.type||"custom"===o.type)return;let{layout:n={},paint:a={},filter:s,minzoom:l,maxzoom:u,beforeId:c}=r;if(c!==o.beforeId&&e.moveLayer(t,c),n!==o.layout){let r=o.layout||{};for(let o in n)i(n[o],r[o])||e.setLayoutProperty(t,o,n[o]);for(let o in r)n.hasOwnProperty(o)||e.setLayoutProperty(t,o,void 0)}if(a!==o.paint){let r=o.paint||{};for(let o in a)i(a[o],r[o])||e.setPaintProperty(t,o,a[o]);for(let o in r)a.hasOwnProperty(o)||e.setPaintProperty(t,o,void 0)}i(s,o.filter)||e.setFilter(t,s),(l!==o.minzoom||u!==o.maxzoom)&&e.setLayerZoomRange(t,l,u)}(t,a,e,r.current)}catch(e){console.warn(e)}else if(t.style&&t.style._loaded&&(!("source"in e)||t.getSource(e.source))){let r={...e,id:a};delete r.beforeId,t.addLayer(r,e.beforeId)}return r.current=e,null}},6467:()=>{}}]);